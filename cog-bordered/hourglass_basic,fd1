ON ERROR ERROR EXT ERR, REPORT$+" at line "+STR$ERL
:
COLOUR 128+7:CLS:COLOUR0
:
width% = 32
height% = 32
period% = 3
wordsperrow% = 2
nwords% = 480
DIM rowdata% 4 * nwords%
RESTORE +1
DATA &a0000000, &0000000a
DATA &58000000, &00000025
DATA &5600a000, &00020025
DATA &56025800, &00098025
DATA &56095600, &00256895
DATA &55a55580, &00955655
DATA &55555600, &00955555
DATA &55555800, &00255555
DATA &a5556000, &0009555a
DATA &0a556000, &000955a0
DATA &00955a80, &02a95600
DATA &00955568, &29555600
DATA &00255556, &95555800
DATA &00255556, &25555600
DATA &009556a8, &0a955600
DATA &00955800, &00295600
DATA &0a556000, &000955a8
DATA &a5555800, &00095556
DATA &55555580, &00955555
DATA &56a55600, &00955a95
DATA &56095600, &00256095
DATA &5602a800, &000a8025
DATA &56000000, &00000025
DATA &58000000, &00000009
DATA &a0000000, &00000002
DATA &80000000, &0000002a
DATA &60000000, &00000095
DATA &5802a000, &00000095
DATA &58295800, &00080095
DATA &5a955600, &00268255
DATA &55555600, &00956a55
DATA &55555800, &02555555
DATA &55556000, &00955555
DATA &a5556000, &0025555a
DATA &0a556aa0, &000955a0
DATA &00955558, &00095600
DATA &00955556, &00a55600
DATA &00255556, &2a555600
DATA &002555a8, &95555600
DATA &00955a00, &25555600
DATA &00955800, &0aa55580
DATA &0a555800, &000955a8
DATA &a5555600, &00095556
DATA &55555580, &00095555
DATA &55555580, &00255555
DATA &55655580, &00255555
DATA &558a5600, &00955595
DATA &5580a800, &00255625
DATA &55800000, &00096809
DATA &55800000, &00028009
DATA &56000000, &00000009
DATA &58000000, &00000002
DATA &a0000000, &00000000
DATA &00000000, &000000aa
DATA &80000000, &00000255
DATA &800a0000, &00000255
DATA &8025a000, &00000255
DATA &60955800, &00000255
DATA &6a555800, &00280255
DATA &55556000, &00968955
DATA &55556000, &02556955
DATA &55556000, &09555555
DATA &55558000, &09555555
DATA &a9556aa0, &0255555a
DATA &02555558, &009555a0
DATA &00955556, &00255600
DATA &00255556, &00a55600
DATA &00255558, &0a555800
DATA &002555a0, &25555800
DATA &00255a00, &95555800
DATA &00955800, &95555600
DATA &02955800, &25555580
DATA &09555600, &0aa955a8
DATA &a5555580, &00025556
DATA &55555560, &00025555
DATA &55555560, &00095555
DATA &556a5580, &00095555
DATA &5560a600, &00095555
DATA &55600800, &002555a9
DATA &55600000, &00095602
DATA &55600000, &00025802
DATA &55600000, &0000a002
DATA &96800000, &00000000
DATA &28000000, &00000000
DATA &00000000, &000000a0
DATA &00280000, &00000a58
DATA &00960000, &00002556
DATA &00958000, &00002556
DATA &82556000, &00000955
DATA &69556000, &00000955
DATA &55558000, &00a80955
DATA &55558000, &0256a555
DATA &5555aaa0, &09555555
DATA &a9555558, &0955555a
DATA &02555558, &025555a0
DATA &00955556, &00955600
DATA &00255556, &00255600
DATA &00255558, &00255800
DATA &002555a0, &00a55800
DATA &00255a00, &0a555800
DATA &00255800, &25555800
DATA &00955a00, &95555600
DATA &02955580, &25555580
DATA &09555560, &255555a8
DATA &a5555558, &0aaa5556
DATA &55565560, &00025555
DATA &5558a980, &00025555
DATA &55580200, &00025555
DATA &55580000, &0009556a
DATA &95580000, &00095580
DATA &95580000, &00025600
DATA &95580000, &0000a800
DATA &2aa00000, &00000000
DATA &00000000, &00000000
DATA &00000000, &00000080
DATA &00a80000, &00000a60
DATA &02560000, &00002558
DATA &09558000, &00009558
DATA &25558000, &00009556
DATA &a5558000, &00002555
DATA &55560000, &00002555
DATA &55560000, &02a02555
DATA &55560aa0, &095a9555
DATA &5555a558, &09555555
DATA &a9555558, &2555556a
DATA &02555558, &25555580
DATA &00955558, &09555600
DATA &00255560, &02955800
DATA &00255680, &00255800
DATA &00255800, &00255800
DATA &00255800, &00a55800
DATA &00255600, &0a555800
DATA &00255580, &25555600
DATA &02955560, &25555580
DATA &09555558, &25555568
DATA &a5555558, &25555556
DATA &55555560, &09aa9555
DATA &5556a960, &02009555
DATA &55580280, &00009555
DATA &55580000, &00009555
DATA &95560000, &0002555a
DATA &25560000, &00025560
DATA &25560000, &00009560
DATA &09580000, &00002580
DATA &02a00000, &00000a00
DATA &02000000, &00000000
DATA &09a80000, &00000a00
DATA &09560000, &0000a580
DATA &95560000, &00025558
DATA &95580000, &00009556
DATA &55580a80, &00009555
DATA &5556a560, &02a89555
DATA &55555560, &09565555
DATA &00955560, &25555600
DATA &00255680, &09555800
DATA &00255800, &02955800
DATA &00255600, &00255800
DATA &00955558, &02555600
DATA &02555558, &09555580
DATA &2a555558, &25555560
DATA &95555558, &2555555a
DATA &5555aa60, &09555555
DATA &55560080, &026aa555
DATA &55560000, &00802555
DATA &a5558000, &00002556
DATA &09558000, &00009556
DATA &025a0000, &00002560
DATA &00a00000, &00000a80
DATA &0a000000, &00000000
DATA &25a00000, &00002800
DATA &95580000, &00009600
DATA &95580000, &00025580
DATA &55580000, &00095562
DATA &55600a00, &00025555
DATA &555aa580, &00025555
DATA &55555560, &00009555
DATA &55555558, &0aaa5555
DATA &a9555560, &2555556a
DATA &02555580, &25555580
DATA &00955600, &25555600
DATA &00255800, &95555600
DATA &00255800, &29555800
DATA &00255a00, &02955800
DATA &002555a0, &00255800
DATA &02555558, &02955680
DATA &2a555558, &09555560
DATA &9555aaa0, &0955555a
DATA &55558000, &0955a555
DATA &55558000, &026a0955
DATA &55558000, &00800955
DATA &a9556000, &00000955
DATA &82556000, &00002555
DATA &002a0000, &00000956
DATA &00000000, &000002a8
DATA &aa000000, &00000000
DATA &55800000, &00000002
DATA &55600000, &000a5802
DATA &55600000, &00255609
DATA &55602a00, &002555a9
DATA &55629580, &00095555
DATA &55595580, &00095555
DATA &a5555580, &0aaa556a
DATA &0a555600, &25555580
DATA &00955800, &25555600
DATA &00255a80, &95555800
DATA &00255568, &25555800
DATA &00255556, &0a955800
DATA &02555558, &00255680
DATA &2a556aa0, &00955560
DATA &95558000, &0255555a
DATA &55556000, &0255a955
DATA &55555800, &009a0955
DATA &6a555800, &00200955
DATA &60956000, &00000955
DATA &80258000, &00000955
DATA &00000000, &000000a6
DATA &00000000, &00000008
DATA &a8000000, &00000002
DATA &56000000, &000aa009
DATA &55802800, &00255825
DATA &55829600, &009556a5
DATA &55a95580, &00955555
DATA &55555600, &00095555
DATA &a5555800, &0009555a
DATA &0a555800, &0aa955a0
DATA &00955a80, &95555600
DATA &00255568, &95555800
DATA &00255556, &25555800
DATA &00255556, &0a955600
DATA &00955aa8, &00095680
DATA &2a556000, &00255568
DATA &95556000, &00955556
DATA &55556000, &02555555
DATA &55555800, &02555955
DATA &56955600, &0095a255
DATA &58255800, &002a0255
DATA &58096000, &00000255
DATA &60028000, &00000095
DATA &80000000, &00000025
DATA &00000000, &0000000a
FOR n% = 0 TO nwords%-1
  READ word%:rowdata%!(4 * n%) = word%
NEXT
:
nframes% = 9
DIM framedata% 8 * nframes%
:
DIM deltas% 8*284

deltaoffset% = 0
RESTORE +1
FOR frame% = 0 TO nframes%-1
 framedata%!(frame% * 4) = deltaoffset%
 REPEAT
  READ rownumber%, rowindex%
  deltas%!(deltaoffset%) = rownumber%
  deltas%!(deltaoffset%+4) = rowindex%
  deltaoffset% += 8
 UNTIL rownumber% = -1
NEXT
:
REM Image 0
DATA 0, 0
DATA 1, 1
DATA 2, 1
DATA 3, 2
DATA 4, 3
DATA 5, 4
DATA 6, 5
DATA 7, 6
DATA 8, 6
DATA 9, 7
DATA 10, 8
DATA 11, 9
DATA 12, 10
DATA 13, 11
DATA 14, 12
DATA 15, 12
DATA 16, 12
DATA 17, 13
DATA 18, 14
DATA 19, 15
DATA 20, 16
DATA 21, 17
DATA 22, 7
DATA 23, 6
DATA 24, 18
DATA 25, 19
DATA 26, 20
DATA 27, 21
DATA 28, 22
DATA 29, 1
DATA 30, 23
DATA 31, 24
DATA -1, -1
REM Image 1
DATA 0, 25
DATA 1, 26
DATA 2, 26
DATA 3, 27
DATA 4, 28
DATA 5, 29
DATA 6, 30
DATA 7, 31
DATA 8, 31
DATA 9, 32
DATA 10, 33
DATA 11, 34
DATA 12, 35
DATA 13, 36
DATA 14, 37
DATA 17, 38
DATA 18, 39
DATA 19, 40
DATA 20, 41
DATA 21, 42
DATA 22, 43
DATA 23, 44
DATA 24, 45
DATA 25, 46
DATA 26, 47
DATA 27, 48
DATA 28, 49
DATA 29, 50
DATA 30, 51
DATA 31, 52
DATA -1, -1
REM Image 2
DATA 0, 53
DATA 1, 54
DATA 2, 55
DATA 3, 56
DATA 4, 57
DATA 5, 58
DATA 6, 59
DATA 7, 60
DATA 8, 61
DATA 9, 62
DATA 10, 63
DATA 11, 64
DATA 12, 65
DATA 13, 65
DATA 14, 66
DATA 15, 67
DATA 16, 68
DATA 17, 69
DATA 18, 70
DATA 19, 71
DATA 20, 72
DATA 21, 73
DATA 22, 74
DATA 23, 75
DATA 24, 76
DATA 25, 77
DATA 26, 78
DATA 27, 79
DATA 28, 80
DATA 29, 81
DATA 30, 82
DATA 31, 83
DATA -1, -1
REM Image 3
DATA 0, 84
DATA 1, 85
DATA 2, 86
DATA 3, 87
DATA 4, 88
DATA 5, 89
DATA 6, 90
DATA 7, 91
DATA 8, 62
DATA 9, 92
DATA 10, 93
DATA 11, 94
DATA 12, 95
DATA 13, 96
DATA 14, 97
DATA 15, 98
DATA 16, 99
DATA 17, 100
DATA 18, 101
DATA 19, 102
DATA 20, 103
DATA 21, 104
DATA 23, 105
DATA 24, 106
DATA 25, 107
DATA 26, 108
DATA 27, 109
DATA 28, 110
DATA 29, 111
DATA 30, 112
DATA 31, 113
DATA -1, -1
REM Image 4
DATA 0, 114
DATA 1, 115
DATA 2, 116
DATA 3, 117
DATA 4, 118
DATA 5, 119
DATA 6, 120
DATA 7, 121
DATA 8, 122
DATA 9, 123
DATA 10, 124
DATA 11, 125
DATA 12, 126
DATA 13, 127
DATA 14, 128
DATA 15, 129
DATA 16, 130
DATA 17, 131
DATA 18, 132
DATA 19, 133
DATA 20, 134
DATA 21, 135
DATA 22, 136
DATA 23, 137
DATA 24, 138
DATA 25, 139
DATA 26, 140
DATA 27, 141
DATA 28, 142
DATA 29, 143
DATA 30, 144
DATA -1, -1
REM Image 5
DATA 0, 145
DATA 1, 146
DATA 2, 147
DATA 3, 141
DATA 4, 148
DATA 5, 149
DATA 6, 139
DATA 7, 150
DATA 8, 151
DATA 9, 152
DATA 12, 153
DATA 13, 154
DATA 14, 155
DATA 16, 156
DATA 17, 98
DATA 18, 157
DATA 19, 158
DATA 20, 159
DATA 21, 160
DATA 22, 161
DATA 23, 162
DATA 24, 163
DATA 25, 120
DATA 26, 164
DATA 27, 165
DATA 28, 117
DATA 29, 166
DATA 30, 167
DATA -1, -1
REM Image 6
DATA 0, 168
DATA 1, 169
DATA 2, 170
DATA 3, 171
DATA 4, 172
DATA 5, 108
DATA 6, 173
DATA 7, 174
DATA 8, 175
DATA 9, 176
DATA 10, 177
DATA 11, 178
DATA 12, 179
DATA 13, 180
DATA 14, 181
DATA 15, 182
DATA 16, 183
DATA 17, 97
DATA 18, 65
DATA 19, 184
DATA 20, 185
DATA 21, 186
DATA 22, 62
DATA 23, 187
DATA 24, 188
DATA 25, 189
DATA 26, 190
DATA 27, 191
DATA 28, 87
DATA 29, 192
DATA 30, 193
DATA -1, -1
REM Image 7
DATA 0, 194
DATA 1, 195
DATA 2, 81
DATA 3, 196
DATA 4, 197
DATA 5, 198
DATA 6, 199
DATA 7, 200
DATA 8, 74
DATA 9, 74
DATA 10, 201
DATA 11, 202
DATA 12, 203
DATA 13, 70
DATA 14, 204
DATA 15, 205
DATA 16, 206
DATA 17, 96
DATA 19, 207
DATA 20, 208
DATA 21, 209
DATA 23, 61
DATA 24, 210
DATA 25, 211
DATA 26, 212
DATA 27, 213
DATA 28, 214
DATA 29, 55
DATA 30, 215
DATA 31, 216
DATA -1, -1
REM Image 8
DATA 0, 217
DATA 1, 50
DATA 2, 50
DATA 3, 218
DATA 4, 219
DATA 5, 220
DATA 6, 221
DATA 7, 44
DATA 8, 43
DATA 9, 222
DATA 10, 223
DATA 11, 224
DATA 13, 225
DATA 14, 226
DATA 15, 12
DATA 16, 227
DATA 17, 228
DATA 19, 229
DATA 20, 230
DATA 21, 231
DATA 22, 232
DATA 23, 31
DATA 24, 233
DATA 25, 234
DATA 26, 235
DATA 27, 236
DATA 28, 237
DATA 29, 26
DATA 30, 238
DATA 31, 239
DATA -1, -1
:
DIM worddata% 10
DIM pointerdata% 4 * wordsperrow% * height%
worddata%?0 = 0:REM Define pointer shape
worddata%?1 = 1:REM Shape number
worddata%?2 = (width%*2+7)/8:REM Width in bytes
worddata%?3 = height%:REM Height in rows
worddata%?4 = width% / 2:REM Active point x
worddata%?5 = height% / 2:REM Active point y
worddata%!6 = pointerdata%
:
RESTORE + 1
FOR col% = 0 TO 2
 READ colr%,colg%,colb%
 VDU 19, col%, 25, colr%, colg%, colb%
NEXT
DATA 255, 255, 255
DATA 0, 153, 14
DATA 0, 0, 0
:
SYS "OS_Byte", 106, 1
:
framenum%=0
WHILE TRUE
 frame_deltas% = deltas% + framedata%!(framenum% * 4)
 PRINT "Frame ";framenum%
 REPEAT
  rownumber%=frame_deltas%!0:frame_deltas%+=4
  rowindex%=frame_deltas%!0:frame_deltas%+=4
  IF rownumber% <> -1 THEN
   FORoffset%=0TOwordsperrow%*4-4 STEP 4
    pointerdata%!(rownumber% * 4 * wordsperrow% + offset%) = rowdata%!(4 * wordsperrow% * rowindex% + offset%)
   NEXT
  ENDIF
 UNTIL rownumber%=-1
 SYS "OS_Word",21, worddata%
 framenum% = (framenum% + 1) MOD nframes%
  I=INKEY(period%)
ENDWHILE
