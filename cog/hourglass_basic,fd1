ON ERROR ERROR EXT ERR, REPORT$+" at line "+STR$ERL
:
COLOUR 128+7:CLS:COLOUR0
:
width% = 32
height% = 32
period% = 3
wordsperrow% = 2
nwords% = 380
DIM rowdata% 4 * nwords%
RESTORE +1
DATA &00000000, &00000000
DATA &50000000, &00000005
DATA &54000000, &00000005
DATA &54005000, &00010005
DATA &54015400, &00054015
DATA &55055500, &00155455
DATA &55555400, &00155555
DATA &55555000, &00055555
DATA &05554000, &00015550
DATA &00554000, &00015500
DATA &00155000, &00015400
DATA &00155540, &01555400
DATA &00055554, &15555000
DATA &00055554, &05555400
DATA &00155400, &00155400
DATA &05555000, &00015554
DATA &55555500, &00155555
DATA &54055400, &00155015
DATA &50000000, &00000001
DATA &40000000, &00000015
DATA &50000000, &00000015
DATA &50015000, &00000015
DATA &50155400, &00040055
DATA &55555400, &00154055
DATA &55555000, &00555555
DATA &55554000, &00155555
DATA &05554000, &00055550
DATA &00155550, &00015400
DATA &00155554, &00055400
DATA &00055554, &00555400
DATA &00055500, &15555400
DATA &00155000, &05555400
DATA &00155000, &00055500
DATA &00555000, &00015500
DATA &05555400, &00015554
DATA &55555500, &00015555
DATA &55555500, &00055555
DATA &55455500, &00055555
DATA &55005400, &00155515
DATA &55000000, &00055405
DATA &55000000, &00014001
DATA &55000000, &00000001
DATA &54000000, &00000001
DATA &50000000, &00000000
DATA &00000000, &00000055
DATA &00050000, &00000055
DATA &40155000, &00000055
DATA &40555000, &00000055
DATA &55554000, &00140155
DATA &55554000, &00554155
DATA &55554000, &01555555
DATA &55550000, &01555555
DATA &01554000, &00555550
DATA &00555550, &00155500
DATA &00055554, &00055400
DATA &00055550, &00555000
DATA &00055500, &05555000
DATA &00055000, &15555000
DATA &00155000, &15555400
DATA &00155000, &05555500
DATA &01555400, &00015500
DATA &05555500, &00005554
DATA &55555540, &00005555
DATA &55555540, &00015555
DATA &55405500, &00015555
DATA &55400400, &00015555
DATA &55400000, &00055501
DATA &55400000, &00015400
DATA &55400000, &00005000
DATA &55400000, &00000000
DATA &14000000, &00000000
DATA &00000000, &00000050
DATA &00140000, &00000554
DATA &00150000, &00000554
DATA &00554000, &00000155
DATA &41554000, &00000155
DATA &55550000, &00000155
DATA &55550000, &00540555
DATA &01555550, &01555550
DATA &00555550, &00555500
DATA &00155554, &00155400
DATA &00055550, &00055000
DATA &00055500, &00055000
DATA &00055000, &00555000
DATA &00055000, &05555000
DATA &00155500, &05555500
DATA &01555540, &05555500
DATA &05555550, &00005554
DATA &55545540, &00005555
DATA &55500100, &00005555
DATA &55500000, &00005555
DATA &55500000, &00015540
DATA &15500000, &00015500
DATA &15500000, &00005400
DATA &15500000, &00000000
DATA &00000000, &00000040
DATA &00540000, &00000550
DATA &01550000, &00001550
DATA &05550000, &00001554
DATA &05550000, &00000555
DATA &55540000, &00000555
DATA &55540000, &01501555
DATA &55550550, &01555555
DATA &01555550, &05555540
DATA &00555550, &05555500
DATA &00155550, &01555400
DATA &00055540, &00155000
DATA &00055400, &00055000
DATA &00055000, &00055000
DATA &00055400, &00555000
DATA &00055500, &05555400
DATA &00155540, &05555500
DATA &05555550, &05555554
DATA &55555540, &01001555
DATA &55540140, &00001555
DATA &55500000, &00001555
DATA &15540000, &00005550
DATA &05540000, &00005540
DATA &05540000, &00001540
DATA &01500000, &00000500
DATA &01000000, &00000000
DATA &01540000, &00000500
DATA &15500000, &00001554
DATA &55540540, &00001555
DATA &55555540, &01545555
DATA &00155540, &05555400
DATA &00055400, &01555000
DATA &00055000, &00155000
DATA &00155550, &00555400
DATA &00555550, &01555500
DATA &00555550, &05555540
DATA &15555550, &05555550
DATA &55550040, &01555555
DATA &55540000, &00400555
DATA &05550000, &00000554
DATA &01550000, &00001554
DATA &00500000, &00000540
DATA &05000000, &00000000
DATA &15500000, &00001400
DATA &15500000, &00005500
DATA &55400000, &00005555
DATA &55500500, &00005555
DATA &55555540, &00001555
DATA &55555550, &00005555
DATA &01555540, &05555540
DATA &00555500, &05555500
DATA &00155400, &05555400
DATA &00055000, &15555400
DATA &00055000, &01555000
DATA &00555550, &00155400
DATA &00555550, &01555540
DATA &15550000, &01555550
DATA &55550000, &01550555
DATA &55550000, &00400155
DATA &01554000, &00000155
DATA &00554000, &00000555
DATA &00000000, &00000154
DATA &55000000, &00000000
DATA &55400000, &00055401
DATA &55401500, &00015555
DATA &55515500, &00015555
DATA &05555500, &00005540
DATA &00555400, &05555500
DATA &00055540, &05555000
DATA &00055554, &00155000
DATA &00555550, &00055400
DATA &00554000, &00155540
DATA &15550000, &00555550
DATA &55554000, &00550155
DATA &55555000, &00100155
DATA &40555000, &00000155
DATA &40154000, &00000155
DATA &00050000, &00000155
DATA &00000000, &00000004
DATA &55000000, &00055005
DATA &55001400, &00155405
DATA &55015500, &00155555
DATA &55555400, &00015555
DATA &05555000, &00015550
DATA &00055540, &15555000
DATA &00055554, &05555000
DATA &00055554, &00155400
DATA &00554000, &00055540
DATA &15554000, &00155554
DATA &55554000, &00555555
DATA &55555000, &00555155
DATA &54155400, &00150055
DATA &50055000, &00000055
DATA &50014000, &00000055
DATA &00000000, &00000005
FOR n% = 0 TO nwords%-1
  READ word%:rowdata%!(4 * n%) = word%
NEXT
:
nframes% = 9
DIM framedata% 8 * nframes%
:
DIM deltas% 8*263

deltaoffset% = 0
RESTORE +1
FOR frame% = 0 TO nframes%-1
 framedata%!(frame% * 4) = deltaoffset%
 REPEAT
  READ rownumber%, rowindex%
  deltas%!(deltaoffset%) = rownumber%
  deltas%!(deltaoffset%+4) = rowindex%
  deltaoffset% += 8
 UNTIL rownumber% = -1
NEXT
:
REM Image 0
DATA 0, 0
DATA 1, 1
DATA 2, 1
DATA 3, 2
DATA 4, 3
DATA 5, 4
DATA 6, 5
DATA 7, 6
DATA 8, 6
DATA 9, 7
DATA 10, 8
DATA 11, 9
DATA 12, 10
DATA 13, 11
DATA 14, 12
DATA 15, 12
DATA 16, 12
DATA 17, 13
DATA 18, 14
DATA 19, 10
DATA 20, 9
DATA 21, 15
DATA 22, 7
DATA 23, 6
DATA 24, 16
DATA 25, 17
DATA 26, 4
DATA 27, 2
DATA 28, 2
DATA 29, 1
DATA 30, 18
DATA 31, 0
DATA -1, -1
REM Image 1
DATA 1, 19
DATA 2, 19
DATA 3, 20
DATA 4, 21
DATA 5, 22
DATA 6, 23
DATA 7, 24
DATA 8, 24
DATA 9, 25
DATA 10, 26
DATA 12, 27
DATA 13, 28
DATA 14, 29
DATA 17, 30
DATA 18, 31
DATA 19, 32
DATA 20, 33
DATA 21, 34
DATA 22, 35
DATA 23, 36
DATA 24, 37
DATA 25, 38
DATA 26, 39
DATA 27, 40
DATA 28, 41
DATA 29, 42
DATA 30, 43
DATA -1, -1
REM Image 2
DATA 1, 44
DATA 2, 44
DATA 3, 45
DATA 4, 46
DATA 5, 47
DATA 6, 48
DATA 7, 49
DATA 8, 50
DATA 9, 51
DATA 10, 52
DATA 11, 53
DATA 12, 28
DATA 14, 54
DATA 15, 55
DATA 16, 56
DATA 17, 57
DATA 18, 58
DATA 19, 59
DATA 20, 60
DATA 21, 61
DATA 22, 62
DATA 23, 63
DATA 24, 64
DATA 25, 65
DATA 26, 66
DATA 27, 67
DATA 28, 68
DATA 29, 69
DATA 30, 70
DATA -1, -1
REM Image 3
DATA 1, 71
DATA 2, 72
DATA 3, 73
DATA 4, 74
DATA 5, 75
DATA 6, 76
DATA 7, 77
DATA 8, 51
DATA 10, 78
DATA 11, 79
DATA 12, 80
DATA 13, 54
DATA 14, 81
DATA 15, 82
DATA 16, 83
DATA 17, 84
DATA 19, 85
DATA 20, 86
DATA 21, 87
DATA 23, 88
DATA 24, 89
DATA 25, 90
DATA 26, 91
DATA 27, 92
DATA 28, 93
DATA 29, 94
DATA 30, 0
DATA -1, -1
REM Image 4
DATA 1, 95
DATA 2, 96
DATA 3, 97
DATA 4, 98
DATA 5, 99
DATA 6, 100
DATA 7, 100
DATA 8, 101
DATA 9, 102
DATA 10, 103
DATA 11, 104
DATA 12, 105
DATA 13, 106
DATA 14, 107
DATA 15, 108
DATA 16, 108
DATA 17, 109
DATA 18, 110
DATA 19, 111
DATA 20, 103
DATA 21, 112
DATA 22, 113
DATA 23, 114
DATA 24, 115
DATA 25, 115
DATA 26, 116
DATA 27, 117
DATA 28, 118
DATA 29, 119
DATA -1, -1
REM Image 5
DATA 1, 120
DATA 2, 121
DATA 3, 117
DATA 4, 116
DATA 5, 122
DATA 6, 115
DATA 7, 115
DATA 8, 123
DATA 9, 124
DATA 12, 125
DATA 13, 126
DATA 14, 127
DATA 16, 107
DATA 17, 82
DATA 18, 128
DATA 19, 129
DATA 20, 130
DATA 21, 131
DATA 22, 132
DATA 23, 133
DATA 24, 100
DATA 25, 100
DATA 26, 134
DATA 27, 135
DATA 28, 97
DATA 29, 136
DATA -1, -1
REM Image 6
DATA 1, 137
DATA 2, 138
DATA 3, 139
DATA 4, 91
DATA 5, 91
DATA 6, 140
DATA 7, 141
DATA 8, 142
DATA 9, 143
DATA 10, 144
DATA 11, 145
DATA 12, 146
DATA 13, 147
DATA 14, 148
DATA 15, 127
DATA 16, 82
DATA 17, 81
DATA 18, 28
DATA 19, 149
DATA 20, 150
DATA 21, 151
DATA 22, 51
DATA 23, 152
DATA 24, 153
DATA 25, 76
DATA 26, 154
DATA 27, 155
DATA 28, 73
DATA 29, 156
DATA -1, -1
REM Image 7
DATA 1, 157
DATA 2, 69
DATA 3, 68
DATA 4, 158
DATA 5, 66
DATA 6, 159
DATA 7, 160
DATA 8, 62
DATA 9, 62
DATA 10, 161
DATA 11, 162
DATA 12, 31
DATA 13, 58
DATA 14, 57
DATA 15, 163
DATA 16, 164
DATA 17, 54
DATA 19, 165
DATA 20, 166
DATA 21, 167
DATA 23, 50
DATA 24, 168
DATA 25, 169
DATA 26, 170
DATA 27, 171
DATA 28, 172
DATA 29, 44
DATA 30, 173
DATA -1, -1
REM Image 8
DATA 1, 42
DATA 2, 42
DATA 3, 42
DATA 4, 174
DATA 5, 175
DATA 6, 176
DATA 7, 36
DATA 8, 35
DATA 9, 177
DATA 10, 178
DATA 11, 33
DATA 14, 179
DATA 15, 12
DATA 16, 180
DATA 17, 181
DATA 19, 10
DATA 20, 182
DATA 21, 183
DATA 22, 184
DATA 23, 24
DATA 24, 185
DATA 25, 186
DATA 26, 187
DATA 27, 188
DATA 28, 19
DATA 29, 19
DATA 30, 189
DATA -1, -1
:
DIM worddata% 10
DIM pointerdata% 4 * wordsperrow% * height%
worddata%?0 = 0:REM Define pointer shape
worddata%?1 = 1:REM Shape number
worddata%?2 = (width%*2+7)/8:REM Width in bytes
worddata%?3 = height%:REM Height in rows
worddata%?4 = width% / 2:REM Active point x
worddata%?5 = height% / 2:REM Active point y
worddata%!6 = pointerdata%
:
RESTORE + 1
FOR col% = 0 TO 1
 READ colr%,colg%,colb%
 VDU 19, col%, 25, colr%, colg%, colb%
NEXT
DATA 255, 255, 255
DATA 0, 153, 14
:
SYS "OS_Byte", 106, 1
:
framenum%=0
WHILE TRUE
 frame_deltas% = deltas% + framedata%!(framenum% * 4)
 PRINT "Frame ";framenum%
 REPEAT
  rownumber%=frame_deltas%!0:frame_deltas%+=4
  rowindex%=frame_deltas%!0:frame_deltas%+=4
  IF rownumber% <> -1 THEN
   FORoffset%=0TOwordsperrow%*4-4 STEP 4
    pointerdata%!(rownumber% * 4 * wordsperrow% + offset%) = rowdata%!(4 * wordsperrow% * rowindex% + offset%)
   NEXT
  ENDIF
 UNTIL rownumber%=-1
 SYS "OS_Word",21, worddata%
 framenum% = (framenum% + 1) MOD nframes%
  I=INKEY(period%)
ENDWHILE
