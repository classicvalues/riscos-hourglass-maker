          AREA |C$$code|, CODE, READONLY

; constants
width             * 32
height            * 32
period            * 2
wordsperrow       * 2
nwords            * 1206
nframes           * 78
active_x          * 16
active_y          * 16

; Workspace for changing the hourglass rendition
                  ^ 0, r12
hg_framenum       # 4                         ; frame number
hg_percentage     # 4                         ; percentage to show (N/I)
hg_leds           # 4                         ; LED flags (N/I)
hg_oldpointer     # 4                         ; Old pointer configuration
hg_oldcolours     # 4 * 3                     ; Old palette entries
hg_word           # 12                        ; OS_Word block
hg_currentdata    # 4 * wordsperrow * height  ; Current data for the hourglass
hg_workspacesize  * :INDEX: @                 ; Size of this workspace

; SWI numbers
XOS_Byte          * 0x20006
XOS_Word          * 0x20007
XOS_ReadPalette   * 0x2002F

; -------------------------------------------------
        MACRO
$label  SIGNATURE
        ALIGN   4
        =       "$label",0
        ALIGN   4
        DCD     &FF000000+(:LEN:"$label"+4):AND::NOT:3
$label
        MEND

; Data for the rows of the hourglass
rowdata
          DCD     &00000000, &00000000
          DCD     &55554000, &00055555
          DCD     &55555000, &00055555
          DCD     &00040000, &00005000
          DCD     &41040000, &00005155
          DCD     &50140000, &00005155
          DCD     &50140000, &00001055
          DCD     &54500000, &00001455
          DCD     &50500000, &00000515
          DCD     &51400000, &00000505
          DCD     &41000000, &00000141
          DCD     &05000000, &00000141
          DCD     &05000000, &00000140
          DCD     &01400000, &00000100
          DCD     &00400000, &00000500
          DCD     &00500000, &00001400
          DCD     &00140000, &00001400
          DCD     &00140000, &00005000
          DCD     &00150000, &00005000
          DCD     &55555000, &00005555
          DCD     &00050000, &00005000
          DCD     &01450000, &00005055
          DCD     &51040000, &00001055
          DCD     &54140000, &00001455
          DCD     &41400000, &00000141
          DCD     &01400000, &00000500
          DCD     &00500000, &00001000
          DCD     &00040000, &00004000
          DCD     &00140000, &00055550
          DCD     &55554000, &00155555
          DCD     &55400000, &00055555
          DCD     &00050000, &00001000
          DCD     &01450000, &00001055
          DCD     &51450000, &00001055
          DCD     &54140000, &00000455
          DCD     &54500000, &00000515
          DCD     &50400000, &00000105
          DCD     &01400000, &00000400
          DCD     &00500000, &00005000
          DCD     &00100000, &00005000
          DCD     &00140000, &00004000
          DCD     &00150000, &00000000
          DCD     &55000000, &00055555
          DCD     &55555000, &00015555
          DCD     &55555000, &00001555
          DCD     &00050000, &00001010
          DCD     &51450000, &00001455
          DCD     &54040000, &00001455
          DCD     &54140000, &00000415
          DCD     &50500000, &00000105
          DCD     &01000000, &00000500
          DCD     &00140000, &00014000
          DCD     &00140000, &00155554
          DCD     &55550000, &00155555
          DCD     &00550000, &00000000
          DCD     &55500000, &00055555
          DCD     &41450000, &00001055
          DCD     &50140000, &00001455
          DCD     &51400000, &00000105
          DCD     &01400000, &00000501
          DCD     &41040000, &00001055
          DCD     &55140000, &00001455
          DCD     &00100000, &00001000
          DCD     &00140000, &00055540
          DCD     &55554000, &00015555
          DCD     &05040000, &00005055
          DCD     &54100000, &00001455
          DCD     &51400000, &00000515
          DCD     &41400000, &00000145
          DCD     &01400000, &00000101
          DCD     &00400000, &00000501
          DCD     &00100000, &00001400
          DCD     &04140000, &00005054
          DCD     &55140000, &00001055
          DCD     &50500000, &00000555
          DCD     &41000000, &00000145
          DCD     &41400000, &00000101
          DCD     &00140000, &00005010
          DCD     &54500000, &00000555
          DCD     &54140000, &00001055
          DCD     &40400000, &00000501
          DCD     &00500000, &00001401
          DCD     &40140000, &00001055
          DCD     &40500000, &00001401
          DCD     &00140000, &00001401
          DCD     &00140000, &00001055
          DCD     &50500000, &00001455
          DCD     &40140000, &00001401
          DCD     &00140000, &00005001
          DCD     &00140000, &00001014
          DCD     &00140000, &00001000
          DCD     &00500000, &00001415
          DCD     &40140000, &00005001
          DCD     &00040000, &00005001
          DCD     &00500000, &00000505
          DCD     &41400000, &00000505
          DCD     &00500000, &00000500
          DCD     &01000000, &00000140
          DCD     &40140000, &00005005
          DCD     &40040000, &00005005
          DCD     &40040000, &00005001
          DCD     &40140000, &00001405
          DCD     &50040000, &00005015
          DCD     &50140000, &00001405
          DCD     &50140000, &00005015
          DCD     &40500000, &00001405
          DCD     &50140000, &00001415
          DCD     &54140000, &00005055
          DCD     &54040000, &00005055
          DCD     &50500000, &00001415
          DCD     &54140000, &00001415
          DCD     &54040000, &00005015
          DCD     &55040000, &00005055
          DCD     &01400000, &00000140
          DCD     &05000000, &00000040
          DCD     &50500000, &00001405
          DCD     &55140000, &00005055
          DCD     &55554000, &00000015
          DCD     &54540000, &00155555
          DCD     &00140000, &00054000
          DCD     &00100000, &00004000
          DCD     &01400000, &00001400
          DCD     &01400000, &00000040
          DCD     &50500000, &00000101
          DCD     &54140000, &00000505
          DCD     &55040000, &00000415
          DCD     &55450000, &00001415
          DCD     &55050000, &00001415
          DCD     &40050000, &00001015
          DCD     &15555400, &00001400
          DCD     &55555400, &00005555
          DCD     &55550000, &00015555
          DCD     &00000000, &00015550
          DCD     &00050000, &00000000
          DCD     &54500000, &00155555
          DCD     &00140000, &00155000
          DCD     &00100000, &00014000
          DCD     &05000000, &00000540
          DCD     &55010000, &00001415
          DCD     &40010000, &00001415
          DCD     &55555400, &00001555
          DCD     &55540000, &00015555
          DCD     &55554000, &00000055
          DCD     &55540000, &00155555
          DCD     &00400000, &00001400
          DCD     &50500000, &00000501
          DCD     &55140000, &00001415
          DCD     &55050000, &00001055
          DCD     &15555000, &00001000
          DCD     &00000000, &00015540
          DCD     &40500000, &00000501
          DCD     &54500000, &00000405
          DCD     &00050000, &00001400
          DCD     &00140000, &00000400
          DCD     &00500000, &00000100
          DCD     &54500000, &00005055
          DCD     &54100000, &00005055
          DCD     &55140000, &00004055
          DCD     &54140000, &00004005
          DCD     &00554000, &00000000
          DCD     &00000000, &00005400
          DCD     &50000000, &00015555
          DCD     &55555400, &00001415
          DCD     &00155400, &00001400
          DCD     &00010000, &00001400
          DCD     &00050000, &00000400
          DCD     &00040000, &00000500
          DCD     &00140000, &00000100
          DCD     &00500000, &00000140
          DCD     &41400000, &00001405
          DCD     &51400000, &00005015
          DCD     &50500000, &00005055
          DCD     &54500000, &00014155
          DCD     &54100000, &00014155
          DCD     &50100000, &00054001
          DCD     &00100000, &00555554
          DCD     &55500000, &00155555
          DCD     &55550000, &00001555
          DCD     &15550000, &00000000
          DCD     &00000000, &00005540
          DCD     &50000000, &00005555
          DCD     &55540000, &00000555
          DCD     &55555400, &00000501
          DCD     &01555500, &00000400
          DCD     &00015400, &00000400
          DCD     &00014000, &00000500
          DCD     &00050000, &00000100
          DCD     &00140000, &00000140
          DCD     &00540000, &00000140
          DCD     &00500000, &00000040
          DCD     &05000000, &00001400
          DCD     &41000000, &00005405
          DCD     &41400000, &00005055
          DCD     &51400000, &00014155
          DCD     &50400000, &00010155
          DCD     &54500000, &00050155
          DCD     &50500000, &00555001
          DCD     &00500000, &00555550
          DCD     &55500000, &00000155
          DCD     &55540000, &00000000
          DCD     &00540000, &00000000
          DCD     &00000000, &00001400
          DCD     &00000000, &00001554
          DCD     &50000000, &00000555
          DCD     &55554000, &00000100
          DCD     &01555500, &00000500
          DCD     &00055500, &00000500
          DCD     &00005500, &00000100
          DCD     &00004000, &00000100
          DCD     &00014000, &00000140
          DCD     &00050000, &00000140
          DCD     &00140000, &00000040
          DCD     &00500000, &00000050
          DCD     &05000000, &00000500
          DCD     &45000000, &00005015
          DCD     &41000000, &00014055
          DCD     &41400000, &00050155
          DCD     &51400000, &00050555
          DCD     &51400000, &01550155
          DCD     &51400000, &01555405
          DCD     &01400000, &00155550
          DCD     &51400000, &00005555
          DCD     &55400000, &00000055
          DCD     &55500000, &00000001
          DCD     &05500000, &00000000
          DCD     &00000000, &00000540
          DCD     &00000000, &00000555
          DCD     &50000000, &00000155
          DCD     &55400000, &00000155
          DCD     &55550000, &00000140
          DCD     &01555400, &00000140
          DCD     &00055540, &00000140
          DCD     &00005540, &00000140
          DCD     &00005000, &00000140
          DCD     &00004000, &00000140
          DCD     &00014000, &00000040
          DCD     &00050000, &00000040
          DCD     &00540000, &00000050
          DCD     &01500000, &00000140
          DCD     &05000000, &00001500
          DCD     &05000000, &00005400
          DCD     &05000000, &00014015
          DCD     &45000000, &00050155
          DCD     &41000000, &00050555
          DCD     &41000000, &01540555
          DCD     &51000000, &01554155
          DCD     &41400000, &00555405
          DCD     &01000000, &00055550
          DCD     &41000000, &00001555
          DCD     &55000000, &00000055
          DCD     &55400000, &00000005
          DCD     &15500000, &00000000
          DCD     &00400000, &00000000
          DCD     &00000000, &00000150
          DCD     &00000000, &00000155
          DCD     &54000000, &00000055
          DCD     &15540000, &00000140
          DCD     &01555000, &00000140
          DCD     &00155500, &00000140
          DCD     &00001540, &00000040
          DCD     &00005000, &00000040
          DCD     &00050000, &00000050
          DCD     &00140000, &00000050
          DCD     &01500000, &00000540
          DCD     &05400000, &00001400
          DCD     &05000000, &00015000
          DCD     &05000000, &00054055
          DCD     &45000000, &00050555
          DCD     &45000000, &00140555
          DCD     &45000000, &05540555
          DCD     &41000000, &01554055
          DCD     &41000000, &00155405
          DCD     &05000000, &00015550
          DCD     &05000000, &00001555
          DCD     &55000000, &00000005
          DCD     &55400000, &00000000
          DCD     &01400000, &00000000
          DCD     &00000000, &00000154
          DCD     &40000000, &00000155
          DCD     &55400000, &00000051
          DCD     &15540000, &00000040
          DCD     &01554000, &00000040
          DCD     &00155400, &00000040
          DCD     &00015540, &00000040
          DCD     &00005000, &00000050
          DCD     &00054000, &00000050
          DCD     &00150000, &00000150
          DCD     &00500000, &00000540
          DCD     &05400000, &00005400
          DCD     &05000000, &00015004
          DCD     &05000000, &00050055
          DCD     &45000000, &01554055
          DCD     &45000000, &00155405
          DCD     &04000000, &00001555
          DCD     &54000000, &00000005
          DCD     &55000000, &00000000
          DCD     &05000000, &00000000
          DCD     &00000000, &00000040
          DCD     &40000000, &00000055
          DCD     &54000000, &00000015
          DCD     &15540000, &00000050
          DCD     &00001540, &00000050
          DCD     &00014000, &00000050
          DCD     &00540000, &00000540
          DCD     &05000000, &00014004
          DCD     &04000000, &00050155
          DCD     &05000000, &00140555
          DCD     &45000000, &05541555
          DCD     &45000000, &05550555
          DCD     &45000000, &00555055
          DCD     &05000000, &00055505
          DCD     &05000000, &00005540
          DCD     &04000000, &00000554
          DCD     &54000000, &00000155
          DCD     &55000000, &00000001
          DCD     &15000000, &00000000
          DCD     &01554000, &00000050
          DCD     &00540000, &00001540
          DCD     &04000000, &00140555
          DCD     &04000000, &00005540
          DCD     &14000000, &00000554
          DCD     &04000000, &00050055
          DCD     &45000000, &00055405
          DCD     &00015000, &00000050
          DCD     &05000000, &00015005
          DCD     &45000000, &00040555
          DCD     &45000000, &01540555
          DCD     &00005100, &00000140
          DCD     &05000000, &00005001
          DCD     &45000000, &00014015
          DCD     &41000000, &00040555
          DCD     &41000000, &00555405
          DCD     &01000000, &00015550
          DCD     &15400000, &00000000
          DCD     &00000000, &00001500
          DCD     &05000000, &00001401
          DCD     &51400000, &00050155
          DCD     &55555400, &00000405
          DCD     &00555400, &00000400
          DCD     &00014000, &00000400
          DCD     &00010000, &00000500
          DCD     &00050000, &00000500
          DCD     &01500000, &00000040
          DCD     &05400000, &00000140
          DCD     &45000000, &00000501
          DCD     &50400000, &00014055
          DCD     &54500000, &00010155
          DCD     &50500000, &00554001
          DCD     &00500000, &00555554
          DCD     &55540000, &00000155
          DCD     &55550000, &00000000
          DCD     &00140000, &00000000
          DCD     &00400000, &00000100
          DCD     &41400000, &00000500
          DCD     &54500000, &00001405
          DCD     &54500000, &00001015
          DCD     &54140000, &00004015
          DCD     &00154000, &00000000
          DCD     &55550000, &00000015
          DCD     &50500000, &00155555
          DCD     &00100000, &00155000
          DCD     &00500000, &00014000
          DCD     &00500000, &00004000
          DCD     &00400000, &00005000
          DCD     &50500000, &00000140
          DCD     &54500000, &00000101
          DCD     &55140000, &00000505
          DCD     &55050000, &00000505
          DCD     &40014000, &00001405
          DCD     &55500000, &00000000
          DCD     &55000000, &00000015
          DCD     &55000000, &00000555
          DCD     &01000000, &00005554
          DCD     &01400000, &00155540
          DCD     &01000000, &01555000
          DCD     &01000000, &01540000
          DCD     &01000000, &00040000
          DCD     &05000000, &00050000
          DCD     &05000000, &00014000
          DCD     &05000000, &00005000
          DCD     &01400000, &00000540
          DCD     &00500000, &00000150
          DCD     &54140000, &00000050
          DCD     &55050000, &00000040
          DCD     &55414000, &00000041
          DCD     &55505000, &00000141
          DCD     &55505500, &00000141
          DCD     &55015540, &00000141
          DCD     &40555500, &00000141
          DCD     &05554000, &00000140
          DCD     &55540000, &00000141
          DCD     &55000000, &00000155
          DCD     &40000000, &00000555
          DCD     &00000000, &00000550
          DCD     &00000000, &00000100
          DCD     &40000000, &00000001
          DCD     &40000000, &00000005
          DCD     &40000000, &00000015
          DCD     &40000000, &00000551
          DCD     &50000000, &00001540
          DCD     &50000000, &00005500
          DCD     &10000000, &00055400
          DCD     &10000000, &00154000
          DCD     &14000000, &00550000
          DCD     &14000000, &01540000
          DCD     &14000000, &05500000
          DCD     &15000000, &15500000
          DCD     &05540000, &00140000
          DCD     &00154000, &00055000
          DCD     &15015000, &00005540
          DCD     &55501450, &00000150
          DCD     &55540550, &00000010
          DCD     &55541540, &00000010
          DCD     &55505500, &00000010
          DCD     &15415400, &00000014
          DCD     &15155000, &00000014
          DCD     &00550000, &00000014
          DCD     &01540000, &00000004
          DCD     &05500000, &00000005
          DCD     &55400000, &00000001
          DCD     &54000000, &00000001
          DCD     &50000000, &00000005
          DCD     &00000000, &00000500
          DCD     &00000000, &00005450
          DCD     &00000000, &00015014
          DCD     &00000000, &00015005
          DCD     &00000000, &00054005
          DCD     &40000000, &00054001
          DCD     &40000000, &00150000
          DCD     &55554050, &00540000
          DCD     &15555550, &00540000
          DCD     &00000550, &01500000
          DCD     &05540540, &01500000
          DCD     &15551540, &05400000
          DCD     &15551500, &05540000
          DCD     &15545400, &15155554
          DCD     &05545400, &04000005
          DCD     &05515000, &00000005
          DCD     &41415000, &00000001
          DCD     &40054000, &00000000
          DCD     &50154000, &00000000
          DCD     &14150000, &00000000
          DCD     &05540000, &00000000
          DCD     &01540000, &00000000
          DCD     &01500000, &00000000
          DCD     &00000000, &00140000
          DCD     &00000000, &00150000
          DCD     &00000500, &00154000
          DCD     &00001500, &00155500
          DCD     &00155500, &00140540
          DCD     &01545500, &00140054
          DCD     &55001500, &00140015
          DCD     &50141500, &00140001
          DCD     &01551500, &00540000
          DCD     &05551400, &00540000
          DCD     &15551400, &00540000
          DCD     &15541400, &00540000
          DCD     &05545400, &00540000
          DCD     &01545400, &00540005
          DCD     &50545400, &00500055
          DCD     &54005400, &00540550
          DCD     &05005400, &00555500
          DCD     &01555400, &00554000
          DCD     &00155400, &00500000
          DCD     &00005000, &00400000
          DCD     &00005000, &00000000
          DCD     &00001000, &00000000
          DCD     &01554000, &00000000
          DCD     &05454000, &00000000
          DCD     &14014000, &00000000
          DCD     &50015000, &00000000
          DCD     &50515000, &05000000
          DCD     &41505000, &05555541
          DCD     &05545400, &05541555
          DCD     &15545400, &01500004
          DCD     &15551500, &01500000
          DCD     &05551500, &00540000
          DCD     &00000540, &00540000
          DCD     &55000540, &00140000
          DCD     &55555540, &00150001
          DCD     &00054150, &00150005
          DCD     &00000040, &00050014
          DCD     &00000000, &00054054
          DCD     &00000000, &00054150
          DCD     &00000000, &00015400
          DCD     &00000000, &00015000
          DCD     &00000000, &00005000
          DCD     &50000000, &00000000
          DCD     &54000000, &00000000
          DCD     &41540000, &00000001
          DCD     &00550000, &00000005
          DCD     &04154000, &00000005
          DCD     &15455000, &00000004
          DCD     &15515400, &00000004
          DCD     &55545500, &00000014
          DCD     &55541540, &00000014
          DCD     &55540550, &00000550
          DCD     &15500550, &00055500
          DCD     &00005450, &14150000
          DCD     &00155000, &15500000
          DCD     &15540000, &05400000
          DCD     &14000000, &01500000
          DCD     &10000000, &01540000
          DCD     &50000000, &00550000
          DCD     &50000000, &00154000
          DCD     &40000000, &00055000
          DCD     &40000000, &00015401
          DCD     &40000000, &00005501
          DCD     &00000000, &00001545
          DCD     &00000000, &00000554
          DCD     &00000000, &00000054
          DCD     &00000000, &00000015
          DCD     &54155500, &00000141
          DCD     &55415540, &00000145
          DCD     &55501540, &00000041
          DCD     &55505000, &00000041
          DCD     &55054000, &00000051
          DCD     &10140000, &00000150
          DCD     &04000000, &00015000
          DCD     &04000000, &00054000
          DCD     &05000000, &01140000
          DCD     &05000000, &05540000
          DCD     &05000000, &01554000
          DCD     &05000000, &00155400
          DCD     &00000000, &00004000
          DCD     &54000000, &00015555
          DCD     &55555400, &00001455
          DCD     &00054000, &00001000
          DCD     &54050000, &00001015
          DCD     &55050000, &00001455
          DCD     &54140000, &00000515
          DCD     &54500000, &00000505
          DCD     &50500000, &00000145
          DCD     &55554000, &00005555
          DCD     &05550000, &00000000
          DCD     &55540000, &00055555
          DCD     &50500000, &00555555
          DCD     &00100000, &00155400
          DCD     &50100000, &00014055
          DCD     &50500000, &00014155
          DCD     &50400000, &00005055
          DCD     &51400000, &00001455
          DCD     &41000000, &00001415
          DCD     &00140000, &00000500
          DCD     &00015000, &00001400
          DCD     &55500000, &00015555
          DCD     &15540000, &00000000
          DCD     &55540000, &00000015
          DCD     &55400000, &00001555
          DCD     &00400000, &00155555
          DCD     &00500000, &00555500
          DCD     &40400000, &00550055
          DCD     &50400000, &00050555
          DCD     &51400000, &00010555
          DCD     &41000000, &00005055
          DCD     &45000000, &00001415
          DCD     &00014000, &00000100
          DCD     &00155500, &00000400
          DCD     &15555400, &00000500
          DCD     &55550000, &00000515
          DCD     &55000000, &00001555
          DCD     &00000000, &00005555
          DCD     &55500000, &00005555
          DCD     &40500000, &00555555
          DCD     &40500000, &00555500
          DCD     &50500000, &00550055
          DCD     &50400000, &00010555
          DCD     &50400000, &00014555
          DCD     &00055500, &00000400
          DCD     &15555400, &00000400
          DCD     &55554000, &00000555
          DCD     &00000000, &00005554
          DCD     &01550000, &00000000
          DCD     &10500000, &00555400
          DCD     &50500000, &00010155
          DCD     &50500000, &00014555
          DCD     &50400000, &00014155
          DCD     &51400000, &00005155
          DCD     &00010000, &00000400
          DCD     &00015400, &00001400
          DCD     &55400000, &00005555
          DCD     &54500000, &00555555
          DCD     &04100000, &00155000
          DCD     &50500000, &00004155
          DCD     &50400000, &00005155
          DCD     &41000000, &00000515
          DCD     &00014000, &00001400
          DCD     &04140000, &00014000
          DCD     &45140000, &00014155
          DCD     &50100000, &00004155
          DCD     &50500000, &00005155
          DCD     &50500000, &00001055
          DCD     &41400000, &00000515
          DCD     &05000000, &00000100
          DCD     &00000000, &00015500
          DCD     &45140000, &00004155
          DCD     &50100000, &00005155
          DCD     &50400000, &00001415
          DCD     &45000000, &00000145
          DCD     &00500000, &00000400
          DCD     &00040000, &00001400
          DCD     &05554000, &00005000
          DCD     &00000000, &00010000

; Data for deltas between frames
deltas
          ; frame 0
          DCD     0, 0
          DCD     8, 0
          DCD     16, 0
          DCD     24, 0
          DCD     32, 8
          DCD     40, 16
          DCD     48, 8
          DCD     56, 24
          DCD     64, 32
          DCD     72, 40
          DCD     80, 48
          DCD     88, 56
          DCD     96, 64
          DCD     104, 72
          DCD     112, 80
          DCD     120, 88
          DCD     128, 96
          DCD     136, 104
          DCD     144, 112
          DCD     152, 120
          DCD     160, 128
          DCD     168, 136
          DCD     176, 24
          DCD     184, 24
          DCD     192, 144
          DCD     200, 16
          DCD     208, 16
          DCD     216, 0
          DCD     224, 0
          DCD     232, 0
          DCD     240, 0
          DCD     248, 0
          DCD     -1, -1
          ; frame 1
          DCD     48, 152
          DCD     56, 160
          DCD     64, 168
          DCD     72, 176
          DCD     80, 184
          DCD     88, 184
          DCD     112, 192
          DCD     136, 200
          DCD     144, 200
          DCD     160, 208
          DCD     176, 136
          DCD     184, 216
          DCD     192, 224
          DCD     200, 232
          DCD     208, 8
          DCD     -1, -1
          ; frame 2
          DCD     32, 240
          DCD     56, 248
          DCD     64, 256
          DCD     72, 264
          DCD     88, 272
          DCD     96, 280
          DCD     104, 288
          DCD     128, 88
          DCD     144, 296
          DCD     160, 304
          DCD     168, 312
          DCD     176, 320
          DCD     184, 320
          DCD     216, 328
          DCD     -1, -1
          ; frame 3
          DCD     32, 336
          DCD     40, 344
          DCD     48, 352
          DCD     64, 360
          DCD     72, 368
          DCD     80, 376
          DCD     88, 384
          DCD     104, 392
          DCD     136, 400
          DCD     184, 408
          DCD     192, 416
          DCD     200, 424
          DCD     216, 432
          DCD     -1, -1
          ; frame 4
          DCD     32, 440
          DCD     40, 16
          DCD     48, 152
          DCD     64, 248
          DCD     72, 448
          DCD     80, 456
          DCD     88, 272
          DCD     104, 464
          DCD     136, 472
          DCD     144, 200
          DCD     168, 136
          DCD     184, 320
          DCD     192, 224
          DCD     200, 232
          DCD     216, 328
          DCD     -1, -1
          ; frame 5
          DCD     32, 8
          DCD     56, 160
          DCD     64, 160
          DCD     72, 480
          DCD     80, 488
          DCD     88, 184
          DCD     96, 64
          DCD     104, 72
          DCD     160, 496
          DCD     176, 136
          DCD     184, 216
          DCD     192, 504
          DCD     216, 0
          DCD     -1, -1
          ; frame 6
          DCD     48, 512
          DCD     56, 24
          DCD     64, 24
          DCD     72, 520
          DCD     88, 528
          DCD     104, 536
          DCD     112, 544
          DCD     136, 552
          DCD     144, 560
          DCD     160, 568
          DCD     176, 24
          DCD     184, 24
          DCD     192, 136
          DCD     200, 8
          DCD     208, 16
          DCD     -1, -1
          ; frame 7
          DCD     48, 8
          DCD     72, 576
          DCD     80, 584
          DCD     88, 56
          DCD     96, 592
          DCD     112, 600
          DCD     136, 608
          DCD     160, 128
          DCD     192, 144
          DCD     200, 16
          DCD     -1, -1
          ; frame 8
          DCD     72, 616
          DCD     96, 624
          DCD     -1, -1
          ; frame 9
          DCD     72, 136
          DCD     80, 632
          DCD     136, 552
          DCD     144, 640
          DCD     152, 648
          DCD     -1, -1
          ; frame 10
          DCD     -1, -1
          ; frame 11
          DCD     80, 656
          DCD     152, 664
          DCD     160, 672
          DCD     -1, -1
          ; frame 12
          DCD     -1, -1
          ; frame 13
          DCD     80, 680
          DCD     88, 688
          DCD     96, 592
          DCD     160, 696
          DCD     168, 704
          DCD     -1, -1
          ; frame 14
          DCD     80, 712
          DCD     96, 64
          DCD     -1, -1
          ; frame 15
          DCD     80, 720
          DCD     88, 728
          DCD     168, 736
          DCD     176, 744
          DCD     -1, -1
          ; frame 16
          DCD     88, 120
          DCD     96, 752
          DCD     104, 760
          DCD     112, 80
          DCD     -1, -1
          ; frame 17
          DCD     96, 768
          DCD     104, 200
          DCD     112, 776
          DCD     184, 744
          DCD     -1, -1
          ; frame 18
          DCD     120, 96
          DCD     136, 608
          DCD     168, 784
          DCD     176, 792
          DCD     184, 800
          DCD     -1, -1
          ; frame 19
          DCD     128, 96
          DCD     136, 552
          DCD     160, 808
          DCD     176, 816
          DCD     184, 792
          DCD     -1, -1
          ; frame 20
          DCD     144, 560
          DCD     160, 824
          DCD     168, 832
          DCD     184, 816
          DCD     -1, -1
          ; frame 21
          DCD     136, 104
          DCD     152, 840
          DCD     160, 848
          DCD     168, 856
          DCD     176, 864
          DCD     -1, -1
          ; frame 22
          DCD     152, 872
          DCD     160, 880
          DCD     184, 888
          DCD     -1, -1
          ; frame 23
          DCD     160, 184
          DCD     176, 896
          DCD     -1, -1
          ; frame 24
          DCD     112, 904
          DCD     120, 912
          DCD     136, 904
          DCD     144, 640
          DCD     152, 920
          DCD     160, 880
          DCD     168, 928
          DCD     -1, -1
          ; frame 25
          DCD     -1, -1
          ; frame 26
          DCD     -1, -1
          ; frame 27
          DCD     -1, -1
          ; frame 28
          DCD     -1, -1
          ; frame 29
          DCD     -1, -1
          ; frame 30
          DCD     -1, -1
          ; frame 31
          DCD     -1, -1
          ; frame 32
          DCD     -1, -1
          ; frame 33
          DCD     -1, -1
          ; frame 34
          DCD     -1, -1
          ; frame 35
          DCD     -1, -1
          ; frame 36
          DCD     -1, -1
          ; frame 37
          DCD     -1, -1
          ; frame 38
          DCD     -1, -1
          ; frame 39
          DCD     -1, -1
          ; frame 40
          DCD     -1, -1
          ; frame 41
          DCD     -1, -1
          ; frame 42
          DCD     -1, -1
          ; frame 43
          DCD     32, 936
          DCD     40, 424
          DCD     48, 944
          DCD     56, 952
          DCD     64, 408
          DCD     72, 960
          DCD     80, 304
          DCD     88, 304
          DCD     96, 968
          DCD     112, 96
          DCD     120, 96
          DCD     128, 976
          DCD     144, 984
          DCD     152, 992
          DCD     160, 1000
          DCD     168, 1008
          DCD     176, 1016
          DCD     184, 1024
          DCD     192, 1032
          DCD     200, 1040
          DCD     208, 1048
          DCD     216, 1056
          DCD     -1, -1
          ; frame 44
          DCD     24, 1064
          DCD     48, 1072
          DCD     56, 1080
          DCD     64, 1088
          DCD     72, 1088
          DCD     112, 1096
          DCD     176, 1104
          DCD     184, 1112
          DCD     200, 1120
          DCD     208, 1128
          DCD     -1, -1
          ; frame 45
          DCD     24, 0
          DCD     32, 1136
          DCD     40, 232
          DCD     48, 1144
          DCD     56, 408
          DCD     64, 320
          DCD     72, 320
          DCD     88, 208
          DCD     96, 1152
          DCD     112, 96
          DCD     144, 1160
          DCD     160, 1168
          DCD     168, 1016
          DCD     176, 1176
          DCD     184, 1024
          DCD     192, 1184
          DCD     200, 344
          DCD     208, 344
          DCD     216, 1192
          DCD     -1, -1
          ; frame 46
          DCD     32, 8
          DCD     40, 16
          DCD     48, 8
          DCD     56, 24
          DCD     64, 24
          DCD     72, 136
          DCD     80, 720
          DCD     88, 120
          DCD     96, 768
          DCD     112, 904
          DCD     120, 912
          DCD     128, 96
          DCD     144, 1200
          DCD     152, 1208
          DCD     160, 880
          DCD     168, 584
          DCD     176, 896
          DCD     184, 888
          DCD     192, 144
          DCD     200, 16
          DCD     208, 16
          DCD     216, 0
          DCD     -1, -1
          ; frame 47
          DCD     32, 336
          DCD     48, 152
          DCD     56, 248
          DCD     64, 248
          DCD     72, 1216
          DCD     80, 128
          DCD     88, 1224
          DCD     104, 1232
          DCD     136, 200
          DCD     144, 760
          DCD     152, 872
          DCD     160, 1240
          DCD     168, 1248
          DCD     176, 1256
          DCD     184, 1264
          DCD     192, 224
          DCD     200, 232
          DCD     208, 8
          DCD     216, 1272
          DCD     -1, -1
          ; frame 48
          DCD     24, 1280
          DCD     32, 1288
          DCD     40, 152
          DCD     48, 1296
          DCD     56, 1304
          DCD     64, 1312
          DCD     72, 1312
          DCD     80, 1320
          DCD     88, 1328
          DCD     96, 1336
          DCD     104, 1344
          DCD     112, 976
          DCD     136, 400
          DCD     144, 1352
          DCD     152, 1360
          DCD     160, 1368
          DCD     168, 1376
          DCD     176, 1384
          DCD     184, 1392
          DCD     192, 1400
          DCD     200, 1408
          DCD     208, 1416
          DCD     216, 1424
          DCD     -1, -1
          ; frame 49
          DCD     24, 1432
          DCD     32, 1440
          DCD     40, 1448
          DCD     48, 1456
          DCD     56, 1464
          DCD     64, 1472
          DCD     72, 1480
          DCD     80, 1480
          DCD     88, 1488
          DCD     96, 1496
          DCD     104, 1504
          DCD     112, 1512
          DCD     120, 904
          DCD     128, 1096
          DCD     136, 1520
          DCD     144, 1528
          DCD     152, 1536
          DCD     160, 1544
          DCD     168, 1552
          DCD     176, 1560
          DCD     184, 1568
          DCD     192, 1576
          DCD     200, 240
          DCD     208, 1584
          DCD     216, 1592
          DCD     224, 1600
          DCD     -1, -1
          ; frame 50
          DCD     16, 1608
          DCD     24, 1616
          DCD     32, 1624
          DCD     40, 1584
          DCD     48, 1632
          DCD     56, 1640
          DCD     64, 1648
          DCD     72, 1656
          DCD     80, 1664
          DCD     88, 1672
          DCD     96, 1680
          DCD     104, 1688
          DCD     112, 1696
          DCD     128, 1704
          DCD     144, 1712
          DCD     152, 1720
          DCD     160, 1728
          DCD     168, 1736
          DCD     176, 1744
          DCD     184, 1752
          DCD     192, 1760
          DCD     200, 1768
          DCD     208, 1776
          DCD     216, 1784
          DCD     224, 1792
          DCD     -1, -1
          ; frame 51
          DCD     16, 1800
          DCD     24, 1808
          DCD     32, 1816
          DCD     40, 1824
          DCD     48, 1832
          DCD     56, 1840
          DCD     64, 1848
          DCD     72, 1856
          DCD     80, 1864
          DCD     88, 1872
          DCD     96, 1880
          DCD     104, 1888
          DCD     112, 1896
          DCD     120, 1904
          DCD     128, 1912
          DCD     136, 1920
          DCD     144, 1928
          DCD     152, 1936
          DCD     160, 1944
          DCD     168, 1952
          DCD     176, 1960
          DCD     184, 1968
          DCD     192, 1976
          DCD     200, 1984
          DCD     208, 1992
          DCD     216, 2000
          DCD     224, 2008
          DCD     232, 2016
          DCD     -1, -1
          ; frame 52
          DCD     16, 2024
          DCD     24, 2032
          DCD     32, 2040
          DCD     40, 1776
          DCD     48, 2048
          DCD     56, 2056
          DCD     64, 2064
          DCD     80, 2072
          DCD     88, 2080
          DCD     104, 2088
          DCD     112, 2096
          DCD     120, 2104
          DCD     128, 2112
          DCD     136, 2120
          DCD     144, 2128
          DCD     152, 2136
          DCD     160, 2144
          DCD     168, 2152
          DCD     176, 2160
          DCD     184, 2168
          DCD     192, 2176
          DCD     200, 2184
          DCD     208, 2040
          DCD     216, 2192
          DCD     224, 2200
          DCD     232, 2208
          DCD     -1, -1
          ; frame 53
          DCD     16, 2216
          DCD     24, 2224
          DCD     40, 2232
          DCD     48, 2240
          DCD     56, 2248
          DCD     64, 2256
          DCD     72, 2264
          DCD     96, 2272
          DCD     104, 2280
          DCD     112, 2288
          DCD     120, 2296
          DCD     128, 2304
          DCD     136, 2312
          DCD     144, 2320
          DCD     152, 2144
          DCD     160, 2152
          DCD     176, 2328
          DCD     184, 2336
          DCD     200, 2344
          DCD     216, 2352
          DCD     224, 2360
          DCD     232, 2368
          DCD     -1, -1
          ; frame 54
          DCD     8, 2376
          DCD     24, 2384
          DCD     32, 2392
          DCD     48, 2400
          DCD     88, 2408
          DCD     104, 2416
          DCD     120, 2424
          DCD     136, 2432
          DCD     144, 2440
          DCD     152, 2448
          DCD     160, 2456
          DCD     168, 2464
          DCD     176, 2472
          DCD     184, 2480
          DCD     192, 2488
          DCD     200, 2496
          DCD     208, 2504
          DCD     216, 2392
          DCD     224, 2512
          DCD     232, 2520
          DCD     -1, -1
          ; frame 55
          DCD     56, 2528
          DCD     80, 2408
          DCD     120, 2536
          DCD     152, 2544
          DCD     192, 2552
          DCD     200, 2560
          DCD     -1, -1
          ; frame 56
          DCD     56, 2248
          DCD     80, 2072
          DCD     120, 2424
          DCD     144, 2568
          DCD     152, 2144
          DCD     160, 2152
          DCD     184, 2576
          DCD     192, 2488
          DCD     200, 2496
          DCD     -1, -1
          ; frame 57
          DCD     8, 0
          DCD     16, 2024
          DCD     24, 2224
          DCD     32, 2040
          DCD     48, 2240
          DCD     88, 2080
          DCD     96, 2584
          DCD     104, 2280
          DCD     120, 2104
          DCD     136, 2592
          DCD     144, 2128
          DCD     152, 2600
          DCD     160, 2608
          DCD     168, 2152
          DCD     176, 2328
          DCD     184, 2336
          DCD     192, 2176
          DCD     200, 2184
          DCD     208, 2040
          DCD     216, 2192
          DCD     224, 2200
          DCD     232, 2368
          DCD     -1, -1
          ; frame 58
          DCD     16, 1800
          DCD     24, 1808
          DCD     32, 2504
          DCD     40, 1776
          DCD     48, 1832
          DCD     56, 2056
          DCD     64, 2064
          DCD     72, 1856
          DCD     80, 2616
          DCD     96, 1880
          DCD     104, 2088
          DCD     112, 1896
          DCD     128, 1912
          DCD     136, 2624
          DCD     144, 2632
          DCD     152, 1936
          DCD     160, 2640
          DCD     168, 1952
          DCD     176, 1960
          DCD     184, 2648
          DCD     192, 2656
          DCD     208, 1992
          DCD     216, 2000
          DCD     224, 2664
          DCD     232, 2208
          DCD     -1, -1
          ; frame 59
          DCD     16, 2672
          DCD     24, 1616
          DCD     32, 1624
          DCD     40, 1584
          DCD     48, 1632
          DCD     56, 1640
          DCD     64, 1648
          DCD     72, 1656
          DCD     80, 1664
          DCD     88, 1672
          DCD     96, 1680
          DCD     104, 1688
          DCD     112, 1696
          DCD     120, 904
          DCD     128, 1704
          DCD     136, 2680
          DCD     144, 1712
          DCD     152, 1720
          DCD     160, 2688
          DCD     168, 1736
          DCD     176, 1744
          DCD     184, 1752
          DCD     192, 1760
          DCD     200, 1768
          DCD     208, 1776
          DCD     216, 1784
          DCD     224, 1792
          DCD     232, 0
          DCD     -1, -1
          ; frame 60
          DCD     16, 0
          DCD     24, 1432
          DCD     32, 1440
          DCD     40, 1416
          DCD     48, 2696
          DCD     56, 2704
          DCD     64, 2712
          DCD     72, 2712
          DCD     80, 2720
          DCD     88, 2728
          DCD     96, 1496
          DCD     104, 1344
          DCD     112, 2736
          DCD     120, 2744
          DCD     128, 1096
          DCD     136, 2752
          DCD     144, 1352
          DCD     152, 1360
          DCD     160, 2760
          DCD     168, 1376
          DCD     176, 2768
          DCD     184, 2776
          DCD     192, 2784
          DCD     200, 1408
          DCD     208, 2792
          DCD     216, 2800
          DCD     224, 2808
          DCD     -1, -1
          ; frame 61
          DCD     24, 0
          DCD     32, 240
          DCD     40, 16
          DCD     48, 152
          DCD     56, 160
          DCD     64, 160
          DCD     72, 248
          DCD     80, 128
          DCD     88, 1224
          DCD     96, 768
          DCD     104, 2816
          DCD     112, 904
          DCD     120, 912
          DCD     128, 96
          DCD     136, 2824
          DCD     144, 72
          DCD     152, 2832
          DCD     160, 2840
          DCD     168, 928
          DCD     176, 1256
          DCD     184, 2848
          DCD     192, 224
          DCD     200, 232
          DCD     208, 8
          DCD     216, 2856
          DCD     224, 0
          DCD     -1, -1
          ; frame 62
          DCD     24, 328
          DCD     32, 2864
          DCD     40, 424
          DCD     48, 2872
          DCD     56, 2880
          DCD     64, 1088
          DCD     72, 2888
          DCD     80, 2896
          DCD     88, 2904
          DCD     96, 968
          DCD     104, 200
          DCD     112, 1704
          DCD     120, 96
          DCD     128, 976
          DCD     136, 2912
          DCD     144, 2920
          DCD     152, 2928
          DCD     160, 2936
          DCD     168, 1008
          DCD     176, 1104
          DCD     184, 2944
          DCD     192, 1032
          DCD     200, 1120
          DCD     208, 1128
          DCD     216, 1056
          DCD     -1, -1
          ; frame 63
          DCD     16, 1792
          DCD     24, 2952
          DCD     32, 2960
          DCD     40, 2968
          DCD     48, 2976
          DCD     56, 2984
          DCD     64, 2992
          DCD     72, 3000
          DCD     80, 3008
          DCD     88, 3016
          DCD     96, 3024
          DCD     104, 3032
          DCD     112, 1520
          DCD     120, 3040
          DCD     128, 3048
          DCD     136, 3056
          DCD     144, 3064
          DCD     152, 3072
          DCD     160, 3080
          DCD     168, 3088
          DCD     176, 3096
          DCD     184, 3104
          DCD     192, 3112
          DCD     200, 3120
          DCD     208, 3128
          DCD     216, 3136
          DCD     224, 3144
          DCD     232, 3152
          DCD     -1, -1
          ; frame 64
          DCD     8, 3160
          DCD     16, 3168
          DCD     24, 3176
          DCD     32, 2224
          DCD     40, 3184
          DCD     48, 3192
          DCD     56, 3200
          DCD     64, 3208
          DCD     72, 3216
          DCD     80, 3224
          DCD     88, 3232
          DCD     96, 3240
          DCD     104, 3248
          DCD     112, 3256
          DCD     120, 3264
          DCD     128, 3272
          DCD     136, 3280
          DCD     144, 3288
          DCD     152, 3296
          DCD     160, 3304
          DCD     168, 3312
          DCD     176, 3320
          DCD     184, 3328
          DCD     192, 3336
          DCD     200, 3344
          DCD     208, 3352
          DCD     216, 3360
          DCD     224, 3368
          DCD     232, 3168
          DCD     -1, -1
          ; frame 65
          DCD     8, 0
          DCD     16, 3376
          DCD     24, 2672
          DCD     32, 2672
          DCD     40, 1432
          DCD     48, 3384
          DCD     56, 3392
          DCD     64, 3400
          DCD     72, 3408
          DCD     80, 3416
          DCD     88, 3424
          DCD     96, 3432
          DCD     104, 3440
          DCD     112, 3448
          DCD     120, 3456
          DCD     128, 3464
          DCD     136, 3472
          DCD     144, 3480
          DCD     152, 3488
          DCD     160, 3496
          DCD     168, 3504
          DCD     176, 3512
          DCD     184, 3520
          DCD     192, 3528
          DCD     200, 3536
          DCD     208, 3544
          DCD     216, 3552
          DCD     224, 3552
          DCD     232, 2016
          DCD     -1, -1
          ; frame 66
          DCD     16, 0
          DCD     24, 0
          DCD     32, 0
          DCD     40, 3560
          DCD     48, 3568
          DCD     56, 3576
          DCD     64, 3584
          DCD     72, 3592
          DCD     80, 3600
          DCD     88, 3608
          DCD     96, 3616
          DCD     104, 3624
          DCD     112, 3632
          DCD     120, 3640
          DCD     128, 3648
          DCD     136, 3656
          DCD     144, 3664
          DCD     152, 3672
          DCD     160, 3680
          DCD     168, 3688
          DCD     176, 3696
          DCD     184, 3704
          DCD     192, 3712
          DCD     200, 3720
          DCD     208, 3728
          DCD     216, 0
          DCD     224, 0
          DCD     232, 0
          DCD     -1, -1
          ; frame 67
          DCD     24, 328
          DCD     32, 328
          DCD     40, 328
          DCD     48, 3736
          DCD     56, 3744
          DCD     64, 3752
          DCD     72, 3760
          DCD     80, 3768
          DCD     88, 3776
          DCD     96, 3784
          DCD     104, 3792
          DCD     112, 3800
          DCD     120, 3800
          DCD     128, 3808
          DCD     136, 3816
          DCD     144, 3824
          DCD     152, 3832
          DCD     160, 3840
          DCD     168, 3848
          DCD     176, 3856
          DCD     184, 3864
          DCD     192, 1192
          DCD     200, 3872
          DCD     208, 3880
          DCD     216, 3888
          DCD     -1, -1
          ; frame 68
          DCD     8, 3896
          DCD     16, 3904
          DCD     24, 2520
          DCD     32, 2200
          DCD     40, 2952
          DCD     48, 3912
          DCD     56, 3920
          DCD     64, 3928
          DCD     72, 3936
          DCD     80, 3944
          DCD     88, 3952
          DCD     96, 3960
          DCD     104, 3968
          DCD     112, 3976
          DCD     120, 3984
          DCD     128, 3992
          DCD     136, 4000
          DCD     144, 4008
          DCD     152, 4016
          DCD     160, 4024
          DCD     168, 4032
          DCD     176, 4040
          DCD     184, 4048
          DCD     192, 4056
          DCD     200, 4064
          DCD     208, 4072
          DCD     216, 2216
          DCD     224, 4080
          DCD     232, 4088
          DCD     -1, -1
          ; frame 69
          DCD     8, 0
          DCD     16, 2024
          DCD     24, 2224
          DCD     32, 2040
          DCD     40, 1776
          DCD     48, 2240
          DCD     56, 2056
          DCD     64, 4096
          DCD     72, 4104
          DCD     80, 4112
          DCD     88, 4120
          DCD     96, 3072
          DCD     104, 4128
          DCD     112, 4136
          DCD     120, 2104
          DCD     128, 2112
          DCD     136, 4144
          DCD     144, 4152
          DCD     152, 3016
          DCD     160, 4160
          DCD     168, 4168
          DCD     176, 4176
          DCD     184, 4184
          DCD     192, 2176
          DCD     200, 2184
          DCD     208, 2040
          DCD     216, 2192
          DCD     224, 2200
          DCD     232, 2368
          DCD     -1, -1
          ; frame 70
          DCD     16, 0
          DCD     24, 4192
          DCD     32, 4200
          DCD     40, 344
          DCD     48, 4208
          DCD     56, 4216
          DCD     64, 4224
          DCD     72, 4232
          DCD     80, 1016
          DCD     88, 4240
          DCD     96, 4248
          DCD     104, 4256
          DCD     112, 904
          DCD     120, 96
          DCD     128, 96
          DCD     136, 400
          DCD     144, 968
          DCD     152, 1152
          DCD     160, 304
          DCD     168, 960
          DCD     176, 408
          DCD     184, 408
          DCD     192, 416
          DCD     200, 424
          DCD     208, 4264
          DCD     216, 4272
          DCD     224, 0
          DCD     232, 0
          DCD     -1, -1
          ; frame 71
          DCD     24, 432
          DCD     32, 2864
          DCD     40, 4280
          DCD     48, 4288
          DCD     56, 4296
          DCD     64, 4304
          DCD     72, 4312
          DCD     80, 4312
          DCD     88, 4320
          DCD     96, 4328
          DCD     104, 4336
          DCD     112, 1704
          DCD     128, 976
          DCD     136, 1344
          DCD     144, 1232
          DCD     152, 4344
          DCD     160, 2728
          DCD     168, 1320
          DCD     176, 1312
          DCD     184, 4352
          DCD     192, 1032
          DCD     200, 1120
          DCD     208, 4360
          DCD     216, 1056
          DCD     -1, -1
          ; frame 72
          DCD     24, 4368
          DCD     32, 4376
          DCD     40, 4384
          DCD     48, 4392
          DCD     56, 4400
          DCD     64, 4408
          DCD     72, 4416
          DCD     80, 4424
          DCD     88, 1544
          DCD     96, 4432
          DCD     104, 4440
          DCD     128, 904
          DCD     144, 1496
          DCD     152, 1488
          DCD     160, 4448
          DCD     168, 1480
          DCD     176, 1480
          DCD     184, 4456
          DCD     192, 4464
          DCD     200, 4472
          DCD     208, 4480
          DCD     216, 4488
          DCD     224, 1608
          DCD     -1, -1
          ; frame 73
          DCD     24, 3536
          DCD     40, 4496
          DCD     48, 4504
          DCD     56, 4512
          DCD     64, 4520
          DCD     72, 4528
          DCD     80, 4536
          DCD     96, 1536
          DCD     128, 976
          DCD     160, 2728
          DCD     176, 2712
          DCD     184, 4544
          DCD     192, 4552
          DCD     200, 4560
          DCD     216, 4568
          DCD     224, 1280
          DCD     -1, -1
          ; frame 74
          DCD     24, 4576
          DCD     32, 2864
          DCD     40, 4360
          DCD     48, 4288
          DCD     56, 4584
          DCD     64, 4592
          DCD     72, 4600
          DCD     80, 4608
          DCD     88, 4616
          DCD     104, 4336
          DCD     152, 4344
          DCD     168, 4624
          DCD     184, 4632
          DCD     192, 1032
          DCD     200, 352
          DCD     208, 4640
          DCD     224, 0
          DCD     -1, -1
          ; frame 75
          DCD     24, 328
          DCD     40, 424
          DCD     48, 4648
          DCD     56, 4656
          DCD     64, 1384
          DCD     72, 4312
          DCD     80, 4664
          DCD     88, 4672
          DCD     96, 4328
          DCD     104, 4680
          DCD     128, 904
          DCD     136, 1904
          DCD     144, 1232
          DCD     168, 1216
          DCD     176, 1312
          DCD     184, 4688
          DCD     200, 1120
          DCD     208, 4360
          DCD     216, 1056
          DCD     -1, -1
          ; frame 76
          DCD     24, 0
          DCD     32, 1136
          DCD     40, 232
          DCD     48, 1144
          DCD     56, 4696
          DCD     64, 4704
          DCD     72, 4712
          DCD     80, 4720
          DCD     88, 4728
          DCD     104, 4736
          DCD     112, 4744
          DCD     128, 96
          DCD     136, 904
          DCD     144, 768
          DCD     160, 1224
          DCD     176, 248
          DCD     184, 248
          DCD     192, 1184
          DCD     200, 344
          DCD     208, 512
          DCD     216, 4752
          DCD     -1, -1
          ; frame 77
          DCD     32, 4264
          DCD     48, 4280
          DCD     56, 136
          DCD     64, 4760
          DCD     72, 40
          DCD     80, 4768
          DCD     88, 688
          DCD     96, 4776
          DCD     112, 4784
          DCD     152, 4792
          DCD     160, 128
          DCD     168, 4800
          DCD     184, 160
          DCD     192, 4808
          DCD     200, 16
          DCD     208, 16
          DCD     216, 4816
          DCD     -1, -1

; Offsets into the deltas for each frame
frame_deltas
          DCD     0  ; frame 0
          DCD     264  ; frame 1
          DCD     392  ; frame 2
          DCD     512  ; frame 3
          DCD     624  ; frame 4
          DCD     752  ; frame 5
          DCD     864  ; frame 6
          DCD     992  ; frame 7
          DCD     1080  ; frame 8
          DCD     1104  ; frame 9
          DCD     1152  ; frame 10
          DCD     1160  ; frame 11
          DCD     1192  ; frame 12
          DCD     1200  ; frame 13
          DCD     1248  ; frame 14
          DCD     1272  ; frame 15
          DCD     1312  ; frame 16
          DCD     1352  ; frame 17
          DCD     1392  ; frame 18
          DCD     1440  ; frame 19
          DCD     1488  ; frame 20
          DCD     1528  ; frame 21
          DCD     1576  ; frame 22
          DCD     1608  ; frame 23
          DCD     1632  ; frame 24
          DCD     1696  ; frame 25
          DCD     1704  ; frame 26
          DCD     1712  ; frame 27
          DCD     1720  ; frame 28
          DCD     1728  ; frame 29
          DCD     1736  ; frame 30
          DCD     1744  ; frame 31
          DCD     1752  ; frame 32
          DCD     1760  ; frame 33
          DCD     1768  ; frame 34
          DCD     1776  ; frame 35
          DCD     1784  ; frame 36
          DCD     1792  ; frame 37
          DCD     1800  ; frame 38
          DCD     1808  ; frame 39
          DCD     1816  ; frame 40
          DCD     1824  ; frame 41
          DCD     1832  ; frame 42
          DCD     1840  ; frame 43
          DCD     2024  ; frame 44
          DCD     2112  ; frame 45
          DCD     2272  ; frame 46
          DCD     2456  ; frame 47
          DCD     2616  ; frame 48
          DCD     2808  ; frame 49
          DCD     3024  ; frame 50
          DCD     3232  ; frame 51
          DCD     3464  ; frame 52
          DCD     3680  ; frame 53
          DCD     3864  ; frame 54
          DCD     4032  ; frame 55
          DCD     4088  ; frame 56
          DCD     4168  ; frame 57
          DCD     4352  ; frame 58
          DCD     4560  ; frame 59
          DCD     4792  ; frame 60
          DCD     5016  ; frame 61
          DCD     5232  ; frame 62
          DCD     5440  ; frame 63
          DCD     5672  ; frame 64
          DCD     5912  ; frame 65
          DCD     6152  ; frame 66
          DCD     6384  ; frame 67
          DCD     6592  ; frame 68
          DCD     6832  ; frame 69
          DCD     7072  ; frame 70
          DCD     7304  ; frame 71
          DCD     7504  ; frame 72
          DCD     7696  ; frame 73
          DCD     7832  ; frame 74
          DCD     7976  ; frame 75
          DCD     8136  ; frame 76
          DCD     8312  ; frame 77

; Palette data
palette
          DCB     0, 255, 255
          ALIGN

; Read the period between frames
; <=  R0 = cs between frames
hourglass_getframeperiod SIGNATURE
          EXPORT  hourglass_getframeperiod
          MOV     r0, #period
          MOV     pc, lr


; Read the size of the workspace block
; <=  R0 = size of hourglass workspace
hourglass_getwssize SIGNATURE
          EXPORT  hourglass_getwssize
          MOV     r0, #hg_workspacesize
          MOV     pc, lr

; Initialisation function
; =>  R0 = hourglass workspace
hourglass_init SIGNATURE
          EXPORT  hourglass_init
          MOV     r12, r0
          MOV     r0, #0
          STR     r0, hg_framenum
          STR     r0, hg_percentage
          STR     r0, hg_leds
          LDR     r0, wordblock_0
          STR     r0, hg_word
          LDR     r0, wordblock_4
          ADR     r1, hg_currentdata
          ORR     r0, r0, r1, LSL #16         ; assign the low half word of pointer data
          STR     r0, hg_word + 4
          MOV     r0, r1, LSR #16             ; and the high half word
          STR     r0, hg_word + 8
; no need to initialise the currentdata; it will be updated by the first frame
          MOV     pc, lr

wordblock_0
          DCB     0                           ; define pointer shape
          DCB     2                           ; shape number (will toggle 2-3)
          DCB     (width*2+7)/8               ; width in bytes
          DCB     height                      ; height
wordblock_4
          DCB     active_x                    ; active x offset
          DCB     active_y                    ; active y offset
          DCB     0                           ; b0-7 of the address of the pointer data
          DCB     0                           ; b8-15 of address of the pointer data

; Start the hourglass
; =>  R0 = hourglass workspace
hourglass_start SIGNATURE
          EXPORT  hourglass_start
          STMFD   sp!, {r4, r5, lr}
          SUB     sp, sp, #8
          MOV     r12, r0
          MOV     r0, #0
          STR     r0, hg_framenum
          MOV     r0, #1
          MOV     r1, #25                     ; read pointer colour 1
          SWI     XOS_ReadPalette
          LDRVS   r2, =&81397900              ; purple if it wasn't set
          STR     r2, hg_oldcolours + 4 * 0
          MOV     r0, #2
          MOV     r1, #25                     ; read pointer colour 2
          SWI     XOS_ReadPalette
          LDRVS   r2, =&66FFFF00              ; yellow if it wasn't set
          STR     r2, hg_oldcolours + 4 * 1
          MOV     r0, #3
          MOV     r1, #25                     ; read pointer colour 3
          SWI     XOS_ReadPalette
          LDRVS   r2, =&00000000              ; black if it wasn't set
          STR     r2, hg_oldcolours + 4 * 2
; now set the palette up for our hourglass
          MOV     r1, sp
          ADRL    r2, palette
; colour 1
          MOV     r0, #1
          STRB    r0, [r1, #0]
          MOV     r0, #25                     ; set pointer colour 1
          STRB    r0, [r1, #1]
          LDRB    r0, [r2], #1
          STRB    r0, [r1, #2]                ; red
          LDRB    r0, [r2], #1
          STRB    r0, [r1, #3]                ; green
          LDRB    r0, [r2], #1
          STRB    r0, [r1, #4]                ; blue
          MOV     r0, #12
          SWI     XOS_Word                    ; Set palette
          MOV     r1, #127                        ; invalid pointer number to read the pointer
          MOV     r0, #106                        ; select pointer
          SWI     XOS_Byte
          MOVVS   r1, #0                          ; if there was an error, turn off
          STR     r1, hg_oldpointer
          ADD     sp, sp, #8
          LDMFD   sp!, {r4, r5, lr}
          MOV     r0, r12
          B       hourglass_frame                 ; exit via the first frame

; Stop the hourglass
; =>  R0 = hourglass workspace
hourglass_stop SIGNATURE
          EXPORT  hourglass_stop
          STMFD   sp!, {r4, r5, lr}
          SUB     sp, sp, #8
          MOV     r12, r0
; restore the palette up for old pointer
          MOV     r1, sp
; colour 1
          ADR     r2, hg_oldcolours + 4 * 0 + 1
          MOV     r0, #1
          STRB    r0, [r1, #0]
          MOV     r0, #25                         ; set pointer colour 1
          STRB    r0, [r1, #1]
          LDRB    r0, [r2], #1
          STRB    r0, [r1, #2]                    ; red
          LDRB    r0, [r2], #1
          STRB    r0, [r1, #3]                    ; green
          LDRB    r0, [r2], #1
          STRB    r0, [r1, #4]                    ; blue
          MOV     r0, #12
          SWI     XOS_Word                        ; Set palette
          LDR     r1, hg_oldpointer               ; re-select the old pointer number
          MOV     r0, #106                        ; select pointer
          SWI     XOS_Byte
          ADD     sp, sp, #8
          LDMFD   sp!, {r4, r5, pc}

; Frame update - sets the hourglass shape for the current frame
; =>  R0 = hourglass workspace
hourglass_frame SIGNATURE
          EXPORT  hourglass_frame
          STMFD   sp!, {r4, r5, lr}
          MOV     r12, r0
          LDR     r0, hg_framenum
          ADRL    r1, frame_deltas
          LDR     r0, [r1, r0, LSL #2]            ; offset within deltas for this frame
          ADRL    r1, deltas
          ADD     r1, r1, r0
          ADRL    r2, rowdata
          ADRL    r5, hg_currentdata
rowloop
          LDMIA   r1!, {r3, r4}                   ; r3 = currentdata offset, row data offset
          CMP     r3, #-1                         ; end of the rows
          BEQ     rowend
          LDR     r0, [r4, r2]!                   ; read a word from rowdata
          STR     r0, [r3, r5]!                   ; store into the currentdata
      [ wordsperrow > 1
          LDR     r0, [r4, #4]!                   ; read a word from rowdata
          STR     r0, [r3, #4]!                   ; store into the currentdata
      ]
      [ wordsperrow > 2
          LDR     r0, [r4, #4]!                   ; read a word from rowdata
          STR     r0, [r3, #4]!                   ; store into the currentdata
      ]
      [ wordsperrow > 3
          LDR     r0, [r4, #4]!                   ; read a word from rowdata
          STR     r0, [r3, #4]!                   ; store into the currentdata
      ]
          B       rowloop

rowend
          MOV     r0, #21                         ; Set Pointer parameters
          ADR     r1, hg_word
          SWI     XOS_Word

          LDRB    r1, hg_word + 1                 ; get the hourglass pointer number we will use
          EOR     lr, r1, #1
          STRB    lr, hg_word + 1                 ; toggles the pointer number we use next time
          MOV     r0, #106                        ; select pointer
          SWI     XOS_Byte

          LDR     r0, hg_framenum
          ADD     r0, r0, #1
          TEQ     r0, #nframes
          MOVEQ   r0, #0                          ; reset counter; we've cycled
          STR     r0, hg_framenum
          LDMFD   sp!, {r4, r5, pc}

; Frame update within an IRQ
; =>  R12 = hourglass workspace
hourglass_frame_irq SIGNATURE
          EXPORT  hourglass_frame_irq
          STMFD   sp!, {r0-r3, r4, r5, r12, lr}
          MOV     r0, r12
          MRS     r4, CPSR
          AND     r1, r4, #&F
          ORR     r1, r1, #&3
          MSR     CPSR_csxf, r1                    ; Enter SVC mode (keep bitness)
          MOV     r5, lr
          BL      hourglass_frame
          MOV     lr, r5
          MSR     CPSR_cxsf, r4                    ; Restore the mode
          LDMFD   sp!, {r0-r3, r4, r5, r12, pc}

          END
